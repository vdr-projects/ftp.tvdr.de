diff -ruN vdr-1.3.49/CONTRIBUTORS vdr-1.4.0/CONTRIBUTORS
--- vdr-1.3.49/CONTRIBUTORS	2006-04-28 15:02:04.000000000 +0200
+++ vdr-1.4.0/CONTRIBUTORS	2006-04-29 15:23:15.000000000 +0200
@@ -1420,6 +1420,8 @@
  for suggesting to add a warning about plugins that don't honor APIVERSION in their
  Makefile
  for providing a shorter version of the 'sed' expression for extracting APIVERSION
+ for fixing a bug in handling the "Power" key in case a recording is going on and
+ no plugin is active
 
 Sven Kreiensen <svenk@kammer.uni-hannover.de>
  for his help in keeping 'channels.conf.terr' up to date
@@ -1861,6 +1863,8 @@
 
 Tobias Grimm <listaccount@e-tobi.net>
  for suggesting to use geteuid() to check whether VDR is running as user 'root'
+ for fixing a memory leak in handling external EPG data
+ for fixing a memory leak in closing the video file during replay
 
 Helge Lenz <h.lenz@gmx.de>
  for reporting a bug in setting the 'Delta' parameter when calling the shutdown
@@ -1886,3 +1890,7 @@
 Werner F‰rber <w.faerber@gmx.de>
  for reporting a bug in handling the cPluginManager::Active() result when pressing
  the "Power" key
+
+Dominique Simon <d.simon@gmx.net>
+ for reporting a bug in handling the "Power" key in case a recording is going on and
+ no plugin is active
diff -ruN vdr-1.3.49/HISTORY vdr-1.4.0/HISTORY
--- vdr-1.3.49/HISTORY	2006-04-28 15:29:22.000000000 +0200
+++ vdr-1.4.0/HISTORY	2006-04-30 10:51:32.000000000 +0200
@@ -4677,3 +4677,13 @@
 - Removed the obsolete "'1' for encrypted radio channels" part from the description
   of the VPID in vdr.5 (reported by Alexander Hans).
 - Fixed tuning to the channel of a VPS timer if the device is the actual device.
+
+2006-04-30: Version 1.4.0
+
+- Fixed handling the "Power" key in case a recording is going on and no plugin
+  is active (thanks to Udo Richter; bug reported by Dominique Simon).
+- Updated the Polish OSD texts (thanks to Jaroslaw Swierczynski).
+- Fixed a memory leak in handling external EPG data (thanks to Tobias Grimm).
+- Fixed a memory leak in closing the video file during replay (thanks to Tobias Grimm).
+- Updated the Italian OSD texts (thanks to Nino Gerbino and Antonio Ospite).
+- Updated the Estonian OSD texts (thanks to Arthur Konovalov).
diff -ruN vdr-1.3.49/config.h vdr-1.4.0/config.h
--- vdr-1.3.49/config.h	2006-04-28 14:33:13.000000000 +0200
+++ vdr-1.4.0/config.h	2006-04-29 11:24:07.000000000 +0200
@@ -4,7 +4,7 @@
  * See the main source file 'vdr.c' for copyright information and
  * how to reach the author.
  *
- * $Id: config.h 1.254 2006/04/28 12:33:13 kls Exp $
+ * $Id: config.h 1.255 2006/04/29 09:24:07 kls Exp $
  */
 
 #ifndef __CONFIG_H
@@ -21,13 +21,13 @@
 
 // VDR's own version number:
 
-#define VDRVERSION  "1.3.49"
-#define VDRVERSNUM   10349  // Version * 10000 + Major * 100 + Minor
+#define VDRVERSION  "1.4.0"
+#define VDRVERSNUM   10400  // Version * 10000 + Major * 100 + Minor
 
 // The plugin API's version number:
 
-#define APIVERSION  "1.3.47"
-#define APIVERSNUM   10347  // Version * 10000 + Major * 100 + Minor
+#define APIVERSION  "1.4.0"
+#define APIVERSNUM   10400  // Version * 10000 + Major * 100 + Minor
 
 // When loading plugins, VDR searches them by their APIVERSION, which
 // may be smaller than VDRVERSION in case there have been no changes to
diff -ruN vdr-1.3.49/eit.c vdr-1.4.0/eit.c
--- vdr-1.3.49/eit.c	2006-04-15 16:11:52.000000000 +0200
+++ vdr-1.4.0/eit.c	2006-04-29 13:38:37.000000000 +0200
@@ -8,7 +8,7 @@
  * Robert Schneider <Robert.Schneider@web.de> and Rolf Hakenes <hakenes@hippomi.de>.
  * Adapted to 'libsi' for VDR 1.3.0 by Marcel Wiesweg <marcel.wiesweg@gmx.de>.
  *
- * $Id: eit.c 1.116 2006/04/15 14:11:52 kls Exp $
+ * $Id: eit.c 1.117 2006/04/29 11:38:37 kls Exp $
  */
 
 #include "eit.h"
@@ -103,8 +103,10 @@
       cLinkChannels *LinkChannels = NULL;
       cComponents *Components = NULL;
       for (SI::Loop::Iterator it2; (d = SiEitEvent.eventDescriptors.getNext(it2)); ) {
-          if (ExternalData && d->getDescriptorTag() != SI::ComponentDescriptorTag)
+          if (ExternalData && d->getDescriptorTag() != SI::ComponentDescriptorTag) {
+             delete d;
              continue;
+             }
           switch (d->getDescriptorTag()) {
             case SI::ExtendedEventDescriptorTag: {
                  SI::ExtendedEventDescriptor *eed = (SI::ExtendedEventDescriptor *)d;
diff -ruN vdr-1.3.49/i18n.c vdr-1.4.0/i18n.c
--- vdr-1.3.49/i18n.c	2006-04-28 14:50:04.000000000 +0200
+++ vdr-1.4.0/i18n.c	2006-04-30 10:51:10.000000000 +0200
@@ -4,7 +4,7 @@
  * See the main source file 'vdr.c' for copyright information and
  * how to reach the author.
  *
- * $Id: i18n.c 1.275 2006/04/28 12:50:04 kls Exp $
+ * $Id: i18n.c 1.279 2006/04/30 08:51:10 kls Exp $
  *
  * Translations provided by:
  *
@@ -108,7 +108,7 @@
   { "iso8859-15",
     "iso8859-15",
     "iso8859-2",
-    "iso8859-1",
+    "iso8859-15",
     "iso8859-15",
     "iso8859-1",
     "iso8859-1",
@@ -264,7 +264,7 @@
   { "Recording info",
     "Aufzeichnung",
     "Podatki o snemanju",
-    "Info Registrazione",
+    "Informazioni registrazione",
     "Opname info",
     "",// TODO
     "Infos sur l'enregistrement",
@@ -330,7 +330,7 @@
   { "Recording commands",
     "Befehle f¸r Aufzeichnungen",
     "Ukazi za snemanje",
-    "Comandi di Registrazione",
+    "Comandi di registrazione",
     "Opname commando's",
     "",// TODO
     "Commandes d'enregistrement",
@@ -418,7 +418,7 @@
   { "Info",
     "Info",
     "Info",
-    "Info",
+    "Informazioni",
     "Info",
     "",//TODO
     "Info",
@@ -462,16 +462,16 @@
   { "This event - %s",
     "Diese Sendung - %s",
     "Ta oddaja - %s",
-    "Quest'evento - %s",
+    "Questo evento - %s",
     "",//TODO
     "",//TODO
     "Cet ÈvÈnement",
     "",//TODO
     "T‰m‰ tapahtuma - %s",
-    "Den h‰r s‰ndningen - %s",
+    "Ta audycja - %s",
     "Este evento - %s",
     "",//TODO
-    "",//TODO
+    "Den h‰r s‰ndningen - %s",
     "Aceast„ emisiune - %s",
     "",//TODO
     "",//TODO
@@ -484,13 +484,13 @@
   { "This event - all channels",
     "Diese Sendung - alle Kan‰le",
     "Ta oddaja - vsi kanali",
-    "Quest'evento - tutti i canali",
+    "Questo evento - tutti i canali"
     "",//TODO
     "",//TODO
     "Cet ÈvÈnement - toutes les chaÓnes",
     "",//TODO
     "T‰m‰ tapahtuma - kaikki kanavat",
-    "",//TODO
+    "Ta audycja - wszystkie kana≥y",
     "Este evento - todos los canales",
     "",//TODO
     "Den h‰r s‰ndningen - alla kanaler",
@@ -512,7 +512,7 @@
     "Tous les ÈvÈnements - toutes chaÓnes",
     "",//TODO
     "Kaikki tapahtumat - kaikki kanavat",
-    "",//TODO
+    "Wszystkie audycje - wszystkie kana≥y",
     "Todos los eventos - todos los canales",
     "",//TODO
     "Alla tillf‰llen - alla kanaler",
@@ -528,7 +528,7 @@
   { "What's on now?",
     "Was l‰uft jetzt?",
     "Kaj je na sporedu?",
-    "In programmazione",
+    "In programmazione adesso",
     "Wat is er nu?",
     "Programa actual?",
     "Programmes en cours",
@@ -727,7 +727,7 @@
   { "Button$Info",
     "Info",
     "Info",
-    "Info",
+    "Informazioni",
     "Info",
     "",//TODO
     "Info",
@@ -793,7 +793,7 @@
   { "Button$Rewind",
     "Anfang",
     "Na zaËetek",
-    "Dall'inizio",
+    "Riavvolgi",
     "Naar begin",
     "Rebobinar",
     "Retour",
@@ -1057,7 +1057,7 @@
   { "Button$Reset",
     "R¸cksetzen",
     "Reset",
-    "Reset",
+    "Resetta",
     "Herstart",
     "",//TODO
     "RÈinitialisation",
@@ -1124,7 +1124,7 @@
   { "Delete channel?",
     "Kanal lˆschen?",
     "Izbriπi kanal?",
-    "Cancello il canale?",
+    "Cancellare il canale?",
     "Kanaal verwijderen?",
     "Apagar o canal?",
     "Supprimer la chaÓne?",
@@ -1139,14 +1139,14 @@
     "Esborrar el canal?",
     "√‘–€ÿ‚Ï ⁄–›–€?",
     "Obrisati program?",
-    "Kustutan kanali?",
+    "Kustutada kanal?",
     "Slet kanal?",
     "Smazat kan·l?",
   },
   { "Delete timer?",
     "Timer lˆschen?",
     "Izbriπi termin?",
-    "Cancello il timer?",
+    "Cancellare il timer?",
     "Timer verwijderen?",
     "Apagar o timer?",
     "Supprimer la programmation?",
@@ -1161,14 +1161,14 @@
     "Esborrar el temporitzador?",
     "√‘–€ÿ‚Ï ‚–Ÿ‹’‡?",
     "Obrisati termin?",
-    "Kustutan taimeri?",
+    "Kustutada taimer?",
     "Slet timer?",
     "Smazat ËasovaË?",
   },
   { "Delete recording?",
     "Aufzeichnung lˆschen?",
     "Izbriπi posnetek?",
-    "Cancello la registrazione?",
+    "Cancellare la registrazione?",
     "Opname verwijderen?",
     "Apagar a gravaÁ„o?",
     "Supprimer l'enregistrement?",
@@ -1183,14 +1183,14 @@
     "Esborrar gravaciÛ?",
     "¡‚’‡’‚Ï ◊–ﬂÿ·Ï?",
     "Obrisati snimku?",
-    "Kustutan salvestuse?",
+    "Kustutada salvestus?",
     "Slet optagelse?",
     "Smazat nahr·vku?",
   },
   { "Timer still recording - really delete?",
     "Timer zeichnet auf - trotzdem lˆschen?",
     "Snemanje po terminu - zares izbriπi?",
-    "Timer in registrazione - cancello?",
+    "Timer in registrazione - cancellare?",
     "Timer neemt nog op - toch verwijderen?",
     "Timer activo - tÍm a certeza que quer apagar?",
     "Enregistrement en cours - confirmez la suppression",
@@ -1205,14 +1205,14 @@
     "Temporitzador activat - Esborrar de totes maneres?",
     "∏‘Ò‚ ◊–ﬂÿ·Ï ﬂﬁ ‚–Ÿ‹’‡„ - ‘’Ÿ·‚“ÿ‚’€Ï›ﬁ „‘–€ÿ‚Ï?",
     "Joπ snimam - zaista obrisati?",
-    "Salvestus aktiivne - kustutan?",
+    "Salvestus aktiivne - kustutada?",
     "Timerstyret optagelse i gang - slet alligevel?",
     "ProbÌh· nahr·v·nÌ - opravdu smazat?",
   },
   { "Stop recording?",
     "Aufzeichnung beenden?",
     "Prekini snemanje?",
-    "Fermo la registrazione?",
+    "Fermare la registrazione?",
     "Opname stoppen?",
     "Parar GravaÁ„o?",
     "ArrÍter l'enregistrement?",
@@ -1227,14 +1227,14 @@
     "Aturar la gravaciÛ?",
     "ø‡’⁄‡–‚ÿ‚Ï ◊–ﬂÿ·Ï?",
     "Zaustaviti snimanje?",
-    "Lıpetan salvestamise?",
+    "Lıpetada salvestamine?",
     "Stop optagelse?",
     "UkonËit nahr·v·nÌ?",
   },
   { "Cancel editing?",
     "Schneiden abbrechen?",
     "Æelite prekiniti urejanje?",
-    "Annullo la modifica?",
+    "Annullare la modifica?",
     "Bewerken afbreken?",
     "Cancelar ModificaÁıes?",
     "Annuler les modifications?",
@@ -1249,14 +1249,14 @@
     "Cancel∑lar l'ediciÛ?",
     "ø‡’‡“–‚Ï ‡’‘–⁄‚ÿ‡ﬁ“–›ÿ’?",
     "Otkazati ureivanje?",
-    "T¸histan muudatuse?",
+    "T¸histada muudatus?",
     "Afbryd redigering?",
     "Zruπit editaci?",
   },
   { "Really restart?",
     "Wirklich neu starten?",
     "Zares ponoven zagon?",
-    "Eseguo un riavvio?",
+    "Eseguire un riavvio?",
     "Werkelijk opnieuw starten?",
     "Tem a certeza que quer reiniciar?",
     "RedÈmarrer?",
@@ -1278,7 +1278,7 @@
   { "restart anyway?",
     "trotzdem neu starten?",
     "zares ponoven zagon?",
-    "riavvio comunque?",
+    "riavviare comunque?",
     "toch opnieuw starten?",
     "quer mesmo reiniciar?",
     "redÈmarrer?",
@@ -1300,7 +1300,7 @@
   { "shut down anyway?",
     "trotzdem ausschalten?",
     "zares izklopi?",
-    "spengo comunque?",
+    "spegnere comunque?",
     "toch uitschakelen?",
     "quer mesmo desligar?",
     "confirmez l'arrÍt",
@@ -1315,14 +1315,14 @@
     "Apagar de totes maneres?",
     "‘’Ÿ·‚“ÿ‚’€Ï›ﬁ “Î⁄€ÓÁÿ‚Ï?",
     "svejedno iskljuËiti?",
-    "l¸litan v‰lja?",
+    "l¸litada v‰lja?",
     "sluk alligevel?",
     "p¯esto vypnout?",
   },
   { "Recording - restart anyway?",
     "Aufnahme l‰uft - trotzdem neu starten?",
     "Snemanje - zares ponoven zagon?",
-    "In registrazione - riavvio comunque?",
+    "In registrazione - riavviare comunque?",
     "Opname loopt - toch opnieuw starten?",
     "Em gravaÁ„o - quer mesmo reiniciar?",
     "Enregistrement en cours - redÈmarrer?",
@@ -1344,7 +1344,7 @@
   { "Recording - shut down anyway?",
     "Aufnahme l‰uft - trotzdem ausschalten?",
     "Snemanje - zares izklopi?",
-    "In registrazione - spengo comunque?",
+    "In registrazione - spegnere comunque?",
     "Opname loopt - toch uitschakelen?",
     "Em gravaÁ„o - quer mesmo desligar?",
     "Enregistrement en cours - confirmez l'arrÍt",
@@ -1359,14 +1359,14 @@
     "Gravant - Apagar de totes maneres?",
     "∏‘Ò‚ ◊–ﬂÿ·Ï - ‘’Ÿ·‚“ÿ‚’€Ï›ﬁ “Î⁄€ÓÁÿ‚Ï?",
     "Snimanje traje - svejedno iskljuËiti?",
-    "Salvestamine aktiivne - l¸litan v‰lja?",
+    "Salvestamine aktiivne - l¸litada v‰lja?",
     "Optagelse igang - sluk alligevel?",
     "SystÈm je zanepr·zdnÏn - p¯esto vypnout?",
   },
   { "Recording in %ld minutes, shut down anyway?",
     "Aufnahme in %ld Minuten - trotzdem ausschalten?",
     "Snemanje Ëez %ld minut, zares izklopi?",
-    "Registrazione fra %ld minuti - spengo comunque?",
+    "Registrazione fra %ld minuti - spegnere comunque?",
     "Opname in %ld minuten - toch uitschakelen?",
     "Em gravaÁ„o dentro de %ld minutos - quer mesmo desligar?",
     "Enregistrement dans %ld minutes - confirmez l'arrÍt",
@@ -1381,7 +1381,7 @@
     "Hi ha una gravaciÛ en %ld minuts - Apagar de totes maneres?",
     "«’‡’◊ %ld ‹ÿ›„‚ ›–Á›Ò‚·Ô ◊–ﬂÿ·Ï - ‘’Ÿ·‚“ÿ‚’€Ï›ﬁ “Î⁄€ÓÁÿ‚Ï?",
     "Snimanje za %ld minuta - svejedno iskljuËiti?",
-    "Salvestamine algab %ld minuti p‰rast - l¸litan v‰lja?",
+    "Salvestamine algab %ld minuti p‰rast - l¸litada v‰lja?",
     "Optagelse om %ld minutter - sluk alligevel?",
     "Nahr·v·nÌ zaËne za %ld minut - p¯esto vypnout?",
   },
@@ -1703,7 +1703,7 @@
     "Aucun cryptage",
     "",//TODO
     "vapaa",
-    "",//TODO
+    "nieszyfrowany"
     "en abierto",
     "",//TODO
     "Okodad",
@@ -1725,7 +1725,7 @@
     "CryptÈ",
     "",//TODO
     "salattu",
-    "",//TODO
+    "szyfrowany",
     "cifrado",
     "",//TODO
     "krypterad",
@@ -2205,7 +2205,7 @@
   { "Timer is recording!",
     "Timer zeichnet gerade auf!",
     "Snemanje po terminu!",
-    "Registrazione da un timer in corso!",
+    "Registrazione di un timer in corso!",
     "Timer is aan het opnemen!",
     "Timer a gravar!",
     "Enregistrement en cours!",
@@ -2227,7 +2227,7 @@
   { "Error while accessing recording!",
     "Fehler beim Ansprechen der Aufzeichnung!",
     "Napaka pri dostopu do posnetka!",
-    "Errore nell'accesso alla registrazione",
+    "Errore nell'accedere alla registrazione!",
     "Fout bij lezen opname!",
     "Erro ao aceder ‡ gravaÁ„o",
     "Impossible d'accËder ‡ l'enregistrement",
@@ -2271,7 +2271,7 @@
   { "*** Invalid Channel ***",
     "*** Ung¸ltiger Kanal ***",
     "*** Neznan kanal ***",
-    "*** CANALE NON VALIDO ***",
+    "*** Canale NON valido ***",
     "*** Ongeldig kanaal ***",
     "*** Canal Inv·lido! ***",
     "*** ChaÓne invalide! ***",
@@ -2293,7 +2293,7 @@
   { "Upcoming VPS recording!",
     "VPS-Aufnahme beginnt in K¸rze!",
     "Sledi VPS snemanje!",
-    "Registrazione VPS in esecuzione!",
+    "Registrazione VPS imminente!",
     "",//TODO
     "",//TODO
     "Enregistrement VPS commence prochaÓnement",
@@ -2469,7 +2469,7 @@
   { "Editing process already active!",
     "Schnitt bereits aktiv!",
     "Urejanje je æe aktivno!",
-    "Processo di modifica gia` attivo!",
+    "Processo di modifica gia' attivo!",
     "Bewerken is al actief!",
     "Processo de modificaÁ„o j· activo!",
     "Montage dÈj‡ en cours!",
@@ -2601,7 +2601,7 @@
   { "Resetting CAM...",
     "CAM wird zur¸ckgesetzt...",
     "Resetiram CAM...",
-    "CAM reimpostato...",
+    "Reimpostazione modulo CAM...",
     "CAM wordt herstart...",
     "",//TODO
     "RÈinitialisation du CAM",
@@ -2667,7 +2667,7 @@
   { "Please enter %d digits!",
     "Bitte geben Sie %d Ziffern ein!",
     "Prosim vnesite %d πtevilk!",
-    "Inserisci %d digits!",
+    "Inserire %d cifre!",
     "Vul %d cijfers in!",
     "",//TODO
     "Veuillez entrer %d chiffres!",
@@ -2955,7 +2955,7 @@
   { "Setup.OSD$Language",
     "Sprache",
     "Jezik",
-    "Linguaggio",
+    "Lingua",
     "Taal",
     "Linguagem",
     "Langue",
@@ -2977,7 +2977,7 @@
   { "Setup.OSD$Skin",
     "Oberfl‰che",
     "Preobleka",
-    "Skin",
+    "Stile interfaccia",
     "Skin",
     "",// TODO
     "Skin",
@@ -2999,7 +2999,7 @@
   { "Setup.OSD$Theme",
     "Thema",
     "Tema",
-    "Tema",
+    "Tema colori",
     "Thema",
     "",// TODO
     "ThËme",
@@ -3043,7 +3043,7 @@
   { "Setup.OSD$Top",
     "Oben",
     "Zgoraj",
-    "Alto",
+    "In alto",
     "Boven",
     "",// TODO
     "Haut",
@@ -3175,7 +3175,7 @@
   { "skin dependent",
     "je nach Oberfl‰che",
     "odvisno od preobleke",
-    "in base allo skin",
+    "in base allo stile",
     "skin afhankelijk",
     "",// TODO
     "dÈpend du skin",
@@ -3241,7 +3241,7 @@
   { "Setup.OSD$Channel info time (s)",
     "Anzeigedauer f¸r Kanalinfo (s)",
     "»as prikaza podatka o kanalu (s)",
-    "Info orario canale (s)",
+    "Durata informazioni canale (s)",
     "Duur tonen kanaal-informatie (s)",
     "",// TODO
     "DurÈe affichage infos chaÓnes (s)",
@@ -3263,7 +3263,7 @@
   { "Setup.OSD$Info on channel switch",
     "Info beim Kanalwechsel",
     "Pokaæi naziv kanala",
-    "Mostra info al cambio canale",
+    "Mostrare informazioni al cambio canale",
     "Kanaal info tonen",
     "Mostrar info ao mudar de Canal",
     "Affichage progr. en cours",
@@ -3285,7 +3285,7 @@
   { "Setup.OSD$Timeout requested channel info",
     "Angeforderte Kanalinfo schlieﬂen",
     "»as prikaza informacije o kanalu",
-    "Richiesta timeout info canale",
+    "Scadenza informazioni canale richieste",
     "", // TODO
     "", // TODO
     "Demande d'infos de chaÓne terminÈe",
@@ -3307,7 +3307,7 @@
   { "Setup.OSD$Scroll pages",
     "Seitenweise scrollen",
     "Drsni meni",
-    "Scorri pagina nel menu",
+    "Scorrere per pagine",
     "Scrollen per pagina",
     "Scroll da p·gina no menu",
     "DÈfilement par pages",
@@ -3329,7 +3329,7 @@
   { "Setup.OSD$Scroll wraps",
     "Rundum scrollen",
     "Iz konca skoËi na zaËetek",
-    "Scrolling testo menu OSD",
+    "Scorrere riavvolgendo",
     "Rondom scrollen",
     "",// TODO
     "DÈfilement rotatif",
@@ -3351,13 +3351,13 @@
   { "Setup.OSD$Menu button closes",
     "Menu-Taste schlieﬂt",
     "Meni gumb zapre meni",
-    "Bottone menu bloccato",
+    "Usare il bottone Menu per chiudere",
     "",// TODO
     "",// TODO
     "Menu bouton fermÈ",
     "",// TODO
     "Sulje valikkon‰pp‰imell‰",
-    "",// TODO
+    "Przycisk Menu zamyka",
     "Cerrar al pulsar botÛn de men˙",
     "",// TODO
     "Menyknappen st‰nger",
@@ -3395,7 +3395,7 @@
   { "Setup.EPG$EPG scan timeout (h)",
     "Zeit bis zur EPG-Aktualisierung (h)",
     "»as do EPG pregleda (h)",
-    "Timeout scansione EPG (ore)",
+    "Timeout scansione aggiorn. EPG (ore)",
     "EPG-scan Timeout (h)",
     "Expirou o EPG (h)",
     "InactivitÈ avant rech. EPG (h)",
@@ -3461,7 +3461,7 @@
   { "Setup.EPG$Set system time",
     "Systemzeit stellen",
     "Nastavi sistemski Ëas",
-    "Settaggio orario automatico",
+    "Settare orario automatico",
     "Systeem klok instellen",
     "Ajustar relÛgio do sistema",
     "Ajuster l'heure du systËme",
@@ -3483,7 +3483,7 @@
   { "Setup.EPG$Use time from transponder",
     "Transponder f¸r Systemzeit",
     "Transponder za nastavitev Ëasa",
-    "Utilizza orario da transponder",
+    "Utilizzare orario da transponder",
     "Gebruik transponder tijd voor systeem",
     "Usar relÛgio do transponder",
     "Utiliser l'heure de la chaÓne",
@@ -3571,7 +3571,7 @@
   { "Setup.DVB$Video display format",
     "Video-Anzeigeformat",
     "Format video prikaza",
-    "Formato display video",
+    "Formato di visualizz. video",
     "Video display formaat",
     "",//TODO
     "Format d'affichage",
@@ -3681,7 +3681,7 @@
   { "Setup.DVB$Use Dolby Digital",
     "Dolby-Digital-Ton benutzen",
     "Uporabljaj Dolby Digital",
-    "Usa Dolby Digital",
+    "Dolby Digital",
     "Dolby Digital gebruiken",
     "",//TODO
     "Utiliser le Dolby Digital",
@@ -3747,13 +3747,13 @@
   { "PIDs only",
     "nur PIDs",
     "samo PIDe",
-    "solo PIDs",
+    "solo PID",
     "",// TODO
     "",// TODO
     "PIDs uniquement",
     "",// TODO
     "vain PID:it",
-    "Tylko PID-y",
+    "tylko PID-y",
     "",// TODO
     "",// TODO
     "bara PIDs",
@@ -3769,7 +3769,7 @@
   { "names and PIDs",
     "Namen und PIDs",
     "imena in PIDe",
-    "nomi e PIDs",
+    "nomi e PID",
     "namen en PIDs",
     "",// TODO
     "noms et PIDs",
@@ -3791,7 +3791,7 @@
   { "add new channels",
     "neue Kan‰le hinzuf¸gen",
     "dodaj nove programe",
-    "aggiungere canali nuovi",
+    "nuovi canali",
     "nieuwe kanalen toevoegen",
     "",// TODO
     "ajouter chaÓnes",
@@ -3806,14 +3806,14 @@
     "",// TODO
     "›ﬁ“Î’ ⁄–›–€Î",
     "dodaj nove programe",
-    "lisa uued kanalid",
+    "uute kanalite lisamine",
     "tilf. ny kanaler",
     "p¯idat novÈ kan·ly",
   },
   { "add new transponders",
     "neue Transponder hinzuf¸gen",
     "dodaj nove oddajnike",
-    "aggiungere transponder nuovi",
+    "nuovi transponder",
     "nieuwe transponders toevoegen",
     "",// TODO
     "ajouter transpondeurs",
@@ -3828,14 +3828,14 @@
     "",// TODO
     "›ﬁ“. ‚‡–›·ﬂﬁ›‘’‡Î",
     "dodaj nove transpondere", // hrv TODO transponderi == odasiljaËi?
-    "lisa uued transponderid",
+    "uute transponderite lisamine",
     "tilf. ny transp.",
     "p¯idat novÈ transpondÈry",
   },
   { "Setup.DVB$Audio languages",  // note the plural
     "Audio-Sprachen",
     "Jeziki za zvok",
-    "Lingue Audio",
+    "Lingue per l'Audio",
     "Audio talen",
     "",//TODO
     "Langues audio",
@@ -3857,7 +3857,7 @@
   { "Setup.DVB$Audio language",  // note the singular
     "Audio-Sprache",
     "Jezik za zvok",
-    "Lingua Audio",
+    "Lingua per l'Audio",
     "Audio taal",
     "",//TODO
     "Langue audio",
@@ -4143,7 +4143,7 @@
   { "Setup.Recording$Use episode name",
     "Episodenname verwenden",
     "Uporabi ime epizode",
-    "Utilizza il nome dell'episodio",
+    "Usare nome episodio",
     "Gebruik episode naam",
     "Utilizar o nome do episÛdio",
     "Utiliser le nom de l'Èpisode",
@@ -4165,7 +4165,7 @@
   { "Setup.Recording$Use VPS",
     "VPS benutzen",
     "Uporabi VPS",
-    "Utilizzare VPS",
+    "Usare VPS",
     "VPS gebruiken",
     "",// TODO
     "Utiliser le VPS",
@@ -4209,7 +4209,7 @@
   { "Setup.Recording$Mark instant recording",
     "Direktaufzeichnung markieren",
     "OznaËi direktno snemanje",
-    "Marca la registrazione",
+    "Marcare registrazione immediata",
     "Direkte opnamen markeren",
     "Marca de gravaÁ„o r·pida",
     "Marquage enregistr. immÈdiats",
@@ -4231,7 +4231,7 @@
   { "Setup.Recording$Name instant recording",
     "Direktaufzeichnung benennen",
     "Ime za direktno snemanje",
-    "Nome registrazione istantanea",
+    "Nome registrazione immediata",
     "Naam direkt-opname",
     "Nome de gravaÁ„o r·pida",
     "Noms enregistr. immÈdiats",
@@ -4253,7 +4253,7 @@
   { "Setup.Recording$Instant rec. time (min)",
     "Dauer der Direktaufzeichnung (min)",
     "»as direktnega snemanja (min)",
-    "Tempo registrazione istantanea (min)",
+    "Tempo registrazione immediata (min)",
     "Duur van de directe opname (min)",
     "",//TODO
     "DurÈe enregistr. immÈdiat (min)",
@@ -4341,7 +4341,7 @@
   { "Setup.Replay$Show replay mode",
     "Wiedergabestatus anzeigen",
     "Prikaæi reæim predvajanja",
-    "Modalita' di visualizz. su replay",
+    "Mostrare modalita' riproduzione",
     "Weergave mode aangeven",
     "Mostrar modo de replay",
     "Affichage mode de lecture",
@@ -4363,7 +4363,7 @@
   { "Setup.Replay$Resume ID",
     "Wiedergabe-ID",
     "ID za predvajanje",
-    "ID Ripresa",
+    "ID di rispristino",
     "Hervattings ID",
     "Resume ID",// TODO
     "ID de reprise",
@@ -4385,7 +4385,7 @@
   { "Setup.Miscellaneous$Min. event timeout (min)",
     "Br¸ckenzeit zwischen Timern (min)",
     "Najmanjπi Ëas dogodka (min)",
-    "Periodo minimo di pausa (min)",
+    "Scadenza minima evento (min)",
     "Minimale event time-out (min)",
     "PerÌodo mÌnimo de pausa (min)",
     "MinEventTimeout (min)",
@@ -4407,7 +4407,7 @@
   { "Setup.Miscellaneous$Min. user inactivity (min)",
     "VDR ausschalten bei Inaktivit‰t (min)",
     "Najmanjπi Ëas neaktivnosti (min)",
-    "Periodo minimo d'inattivita' (min)",
+    "Periodo minimo di inattivita' (min)",
     "Minimum gebruikers inactiviteit (min)",
     "PerÌodo mÌnimo de inactividade (min)",
     "DurÈe minimale d'inact. (min)",
@@ -4429,7 +4429,7 @@
   { "Setup.Miscellaneous$SVDRP timeout (s)",
     "SVDRP trennen bei Inaktivit‰t (s)",
     "SVDRP Ëas neaktivnosti (s)",
-    "Timeout SVDRP (s)",
+    "Scadenza SVDRP (s)",
     "SVDRP Timeout (s)",
     "Timeout SVDRP (s)",
     "Temps maxi SVDRP (s)",
@@ -4451,7 +4451,7 @@
   { "Setup.Miscellaneous$Zap timeout (s)",
     "Mindestzeit f¸r Kanalhistorie (s)",
     "»as uglaπevanja (s)",
-    "Timeout Zapping",
+    "Scadenza Zapping (s)",
     "Zap timeout (s)",
     "",// TODO
     "Prise en compte chaÓne (s)",
@@ -4585,7 +4585,7 @@
   { " abcdefghijklmnopqrstuvwxyz0123456789-.#~,/_@",
     " a‰bcdefghijklmnoˆpqrstu¸vwxyz0123456789-.#~,/_@",
     " abcËdefghijklmnopqrsπtuvwxyzæ0123456789-.#~,/_@",
-    " a‡bcdeÈËfghiÓjklmnoÚpqrstu˘vwxyz0123456789-.#~,/_@",
+    " a·‡bcdeÈËfghiÏÓjklmnoÚpqrstu˘vwxyz0123456789-.#~,/_@",
     " abcdefghijklmnopqrstuvwxyz0123456789-.#~,/_@·‰‡ÔÛˆÚ˙¸˘",
     "",// TODO
     " a‡bcÁdeÈËÍfghiÓjklmnoÙpqrstu˘˚vwxyz0123456789-.#~,/_@",
@@ -4608,7 +4608,7 @@
   { " 0\t-.#~,/_@1\tabc2\tdef3\tghi4\tjkl5\tmno6\tpqrs7\ttuv8\twxyz9",
     " 0\t-.#~,/_@1\tabc‰2\tdef3\tghi4\tjkl5\tmnoˆ6\tpqrs7\ttuv¸8\twxyz9",
     " 0\t-.#~,/_@1\tabcË2\tdef3\tghi4\tjkl5\tmno6\tpqrsπ7\ttuv8\twxyzæ9",
-    "",//TODO
+    " 0\t-.#~,/_@1\ta‡bc2\tdeËf3\tghiÏ4\tjkl5\tmnoÚ6\tpqrs7\ttu˘v8\twxyz9",
     "",//TODO
     "",//TODO
     " 0\t-.#~,/_@1\tabc‡‚Á2\tdefÈËÍ3\tghiÓÔ4\tjkl5\tmnoÙ6\tpqrs7\ttuv˘8\twxyz9",
@@ -4631,7 +4631,7 @@
   { "Learning Remote Control Keys",
     "Fernbedienung anlernen",
     "UËenje kod upravljalca",
-    "Apprendimento tasti unita` remota",
+    "Apprendimento tasti unita' remota",
     "Leren toetsen afstandsbediening",
     "Aprender as teclas do telecomando",
     "Apprentissage des codes de tÈlÈcommande",
@@ -4668,14 +4668,14 @@
     "Fase 1: Detectant el tipus de receptor",
     "»–” 1: æﬂ‡’‘’€’›ÿ’ ‚ÿﬂ– ⁄ﬁ‘– ﬂ„€Ï‚–",
     "Faza 1: detektiranje kÙda daljinskog upravljaËa.",
-    "Aste 1: Kodeerimiss¸steemi tuvastamine",
+    "Samm 1: Kodeerimiss¸steemi tuvastamine",
     "Fase 1: Detekterer fjernbetjenings-kodetype",
     "F·ze 1: Detekce typu kÛdu",
   },
   { "Press any key on the RC unit",
     "Eine Taste auf der Fernbedienung dr¸cken",
     "Pritisnite tipko na upravljalcu",
-    "Premere un tasto dell'unita` RC",
+    "Premere un tasto dell'unita' RC",
     "Druk op een willekeurige knop",
     "Pressione qualquer tecla do telecomando",
     "Appuyer sur une touche de la tÈlÈcommande",
@@ -4756,7 +4756,7 @@
     "Fase 2: Aprenentantge de les funcions",
     "»–” 2: ∑–‘–›ÿ’ ⁄ﬁ‘ﬁ“ ﬁ‚‘’€Ï›ÎÂ ⁄›ﬁﬂﬁ⁄",
     "Faza 2: UËenje posebnih kÙdova",
-    "Aste 2: Klahvide ıpetamine",
+    "Samm 2: Klahvide ıpetamine",
     "Fase 2: LÊr individuelle tast koder",
     "F·ze 2: UËenÌ konkrÈtnÌho kÛdu kl·ves",
   },
@@ -4910,7 +4910,7 @@
     "Fase 3: Guardant els codis de les tecles",
     "»–” 3: ∑–ﬂﬁ‹ÿ›–›ÿ’ ⁄ﬁ‘ﬁ“ ⁄›ﬁﬂﬁ⁄",
     "Faza 3: Spremanje kÙdova tipki",
-    "Aste 3: Klavhikoodide salvestamine",
+    "Samm 3: Klavhikoodide salvestamine",
     "Fase 3: Gemmer tast koder",
     "F·ze 3: UloæenÌ kÛd˘",
   },
@@ -5182,7 +5182,7 @@
   { "Key$Info",
     "Info",
     "Info",
-    "",//TODO
+    "Informazioni",
     "Info",
     "",//TODO
     "Info",
@@ -5204,7 +5204,7 @@
   { "Key$Play",
     "Wiedergabe",
     "Predvajaj",
-    "Riproduci",
+    "Riproduzione",
     "Weergeven",
     "",// TODO
     "Lecture",
@@ -5270,7 +5270,7 @@
   { "Key$Record",
     "Aufnehmen",
     "Snemaj",
-    "Registra",
+    "Registrazione",
     "Opnemen",
     "",// TODO
     "Enregistrement",
@@ -5645,7 +5645,7 @@
   { "auto",
     "auto",
     "avtomatsko",
-    "auto",
+    "automatico",
     "auto",
     "",// TODO
     "auto",
@@ -5667,7 +5667,7 @@
   { "top",
     "oben",
     "zgoraj",
-    "limite sup.",
+    "in alto",
     "boven",
     "topo",
     "haut",
@@ -5689,7 +5689,7 @@
   { "bottom",
     "unten",
     "spodaj",
-    "limite inf.",
+    "in basso",
     "onder",
     "fundo",
     "bas",
@@ -5799,7 +5799,7 @@
   { " Stop replaying", // note the leading blank!
     " Wiedergabe beenden",
     " Prekini predvajanje",
-    " Interrompi riproduzione",
+    " Stop riproduzione",
     " Stop afspelen",
     " Parar reproduÁ„o",
     " ArrÍter la lecture",
@@ -5814,14 +5814,14 @@
     " Aturar la reproducciÛ",
     " ø‡’⁄‡–‚ÿ‚Ï “ﬁ·ﬂ‡ﬁÿ◊“’‘’›ÿ’",
     " Prekini reprodukciju",
-    " Lıpeta taasesitamine",
+    " Lıpetada taasesitamine",
     " Stop afspilning",
     " Zastavit p¯ehr·v·nÌ",
   },
   { " Stop recording ", // note the leading and trailing blanks!
     " Aufzeichnung beenden ",
     " Prekini snemanje ",
-    " Interrompi registrazione ",
+    " Stop registrazione ",
     " Stop opnemen ",
     " Parar gravaÁ„o ",
     " ArrÍter l'enregistrement ",
@@ -5836,14 +5836,14 @@
     " Aturar la gravaciÛ ",
     " ø‡’⁄‡–‚ÿ‚Ï ◊–ﬂÿ·Ï ",
     " Prekini snimanje ",
-    " Lıpeta salvestamine ",
+    " Lıpetada salvestamine ",
     " Stop optagelse ",
     " Zastavit nahr·v·nÌ ",
   },
   { " Cancel editing", // note the leading blank!
     " Schneiden abbrechen",
     " Prekini urejanje",
-    " Annulla modifiche",
+    " Annullare modifiche",
     " Bewerken afbreken",
     " Anular modificaÁ„o",
     " Annuler le montage",
@@ -5858,7 +5858,7 @@
     " Cancel∑lar l'ediciÛ ",
     " ø‡’‡“–‚Ï ‹ﬁ›‚–÷ ◊–ﬂÿ·ÿ",
     " Prekini ureivanje",
-    " Katkesta monteerimine",
+    " Katkestada monteerimine",
     " Afbryd redigering",
     " Zruπit editaci",
   },
@@ -5975,7 +5975,7 @@
   { "Recording started",
     "Aufzeichnung gestartet",
     "Snemanje se je priËelo",
-    "Registrazione iniziata",
+    "Registrazione avviata",
     "",//TODO
     "",//TODO
     "Enregistrement a commencÈ",
@@ -6019,7 +6019,7 @@
   { "Starting EPG scan",
     "Aktualisiere EPG-Daten",
     "PriËenjam EPG-scan",
-    "Scan EPG iniziato",
+    "Inizio scansione EPG",
     "Bezig met starten EPG scan",
     "",// TODO
     "Mise ‡ jour du guide des programmes",
@@ -6041,7 +6041,7 @@
   { "This plugin has no setup parameters!",
     "Dieses Plugin hat keine Parameter!",
     "Ta vstavek nima nastavitvenih parametrov!",
-    "Questo plugin non ha parametri di setup!",
+    "Questo plugin non ha parametri di configurazione!",
     "Deze plugin heeft geen instelparameters",
     "",// TODO
     "Ce plugin n'a pas de paramËtres!",
@@ -6085,7 +6085,7 @@
   { "ST:TNG Panels",
     "ST:TNG-Konsolen",
     "ST:TNG Konsola",
-    "Pannelli ST:TNG",
+    "Consolle ST:TNG",
     "ST:TNG Consoles",
     "",// TODO
     "Consoles ST:TNG",
@@ -6107,7 +6107,7 @@
   { "No title",
     "Kein Titel",
     "Brez naziva",
-    "Nessun titolo",
+    "Senza titolo",
     "Geen titel",
     "",// TODO
     "Sans titre",
diff -ruN vdr-1.3.49/recording.c vdr-1.4.0/recording.c
--- vdr-1.3.49/recording.c	2006-04-23 12:43:06.000000000 +0200
+++ vdr-1.4.0/recording.c	2006-04-29 15:22:20.000000000 +0200
@@ -4,7 +4,7 @@
  * See the main source file 'vdr.c' for copyright information and
  * how to reach the author.
  *
- * $Id: recording.c 1.147 2006/04/23 10:43:06 kls Exp $
+ * $Id: recording.c 1.148 2006/04/29 13:22:20 kls Exp $
  */
 
 #include "recording.h"
@@ -1436,7 +1436,7 @@
 void cFileName::Close(void)
 {
   if (file) {
-     if ((record && CloseVideoFile(file) < 0) || (!record && file->Close() < 0))
+     if (CloseVideoFile(file) < 0)
         LOG_ERROR_STR(fileName);
      file = NULL;
      }
diff -ruN vdr-1.3.49/vdr.1 vdr-1.4.0/vdr.1
--- vdr-1.3.49/vdr.1	2006-04-28 15:06:35.000000000 +0200
+++ vdr-1.4.0/vdr.1	2006-04-30 10:55:12.000000000 +0200
@@ -8,9 +8,9 @@
 .\" License as specified in the file COPYING that comes with the
 .\" vdr distribution.
 .\"
-.\" $Id: vdr.1 1.24 2006/04/28 13:06:35 kls Exp $
+.\" $Id: vdr.1 1.25 2006/04/30 08:55:12 kls Exp $
 .\"
-.TH vdr 1 "28 Apr 2006" "1.4.0" "Video Disk Recorder"
+.TH vdr 1 "30 Apr 2006" "1.4.0" "Video Disk Recorder"
 .SH NAME
 vdr - the Video Disk Recorder
 .SH SYNOPSIS
diff -ruN vdr-1.3.49/vdr.5 vdr-1.4.0/vdr.5
--- vdr-1.3.49/vdr.5	2006-04-28 15:06:54.000000000 +0200
+++ vdr-1.4.0/vdr.5	2006-04-30 10:55:16.000000000 +0200
@@ -8,9 +8,9 @@
 .\" License as specified in the file COPYING that comes with the
 .\" vdr distribution.
 .\"
-.\" $Id: vdr.5 1.58 2006/04/28 13:06:54 kls Exp $
+.\" $Id: vdr.5 1.59 2006/04/30 08:55:16 kls Exp $
 .\"
-.TH vdr 5 "28 Apr 2006" "1.4.0" "Video Disk Recorder Files"
+.TH vdr 5 "30 Apr 2006" "1.4.0" "Video Disk Recorder Files"
 .SH NAME
 vdr file formats - the Video Disk Recorder Files
 .SH DESCRIPTION
diff -ruN vdr-1.3.49/vdr.c vdr-1.4.0/vdr.c
--- vdr-1.3.49/vdr.c	2006-04-28 15:23:55.000000000 +0200
+++ vdr-1.4.0/vdr.c	2006-04-29 11:14:06.000000000 +0200
@@ -22,7 +22,7 @@
  *
  * The project's page is at http://www.cadsoft.de/vdr
  *
- * $Id: vdr.c 1.266 2006/04/28 13:23:55 kls Exp $
+ * $Id: vdr.c 1.267 2006/04/29 09:14:06 kls Exp $
  */
 
 #include <getopt.h>
@@ -970,21 +970,23 @@
                   }
                break;
           // Power off:
-          case kPower: isyslog("Power button pressed");
-                       DELETE_MENU;
-                       if (!Shutdown) {
-                          Skins.Message(mtError, tr("Can't shutdown - option '-s' not given!"));
-                          break;
-                          }
-                       if (cRecordControls::Active()) {
-                          if (Interface->Confirm(tr("Recording - shut down anyway?")))
-                             ForceShutdown = true;
-                          }
-                       if (!cPluginManager::Active(tr("shut down anyway?")))
-                          ForceShutdown = true;
-                       LastActivity = 1; // not 0, see below!
-                       UserShutdown = true;
-                       break;
+          case kPower:
+               isyslog("Power button pressed");
+               DELETE_MENU;
+               if (!Shutdown) {
+                  Skins.Message(mtError, tr("Can't shutdown - option '-s' not given!"));
+                  break;
+                  }
+               LastActivity = 1; // not 0, see below!
+               UserShutdown = true;
+               if (cRecordControls::Active()) {
+                  if (!Interface->Confirm(tr("Recording - shut down anyway?")))
+                     break;
+                  }
+               if (cPluginManager::Active(tr("shut down anyway?")))
+                  break;
+               ForceShutdown = true;
+               break;
           default: break;
           }
         Interact = Menu ? Menu : cControl::Control(); // might have been closed in the mean time
